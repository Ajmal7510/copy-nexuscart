<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Checkout</title>

    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
    />

    <meta name="_csrf" th:content="${_csrf.token}" />

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <!-- css -->
    <link rel="stylesheet" th:href="@{/user/home/assets/style.css}" type="text/css">

    <!-- Asom font -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

</head>
<body>

<header th:replace="fragments/navbar :: header-nav"></header>

<form action="" id="checkout-form" th:action="@{/user/checkout/order-item}" method="post">
    <section class="bg-white py-5">


        <div class="container">
            <h4 class="card-title mb-4">Checkout
                <i class="fa-regular fa-money-bill-1  text-dark ms-2 fs-4" style="color: #000000;"></i>
            </h4>
            <div class="row">

                <div class="col-xl-8 col-lg-8">
                    <!-- Checkout -->
                    <div class="card shadow-0 border">
                        <div class="p-4">
                            <h5 class="card-title mb-3">Select Address</h5>
                            <div class="row mb-3">

                                <div class="col-lg-4 mb-3">
                                    <!-- Address radio -->
                                    <div th:each="address : ${addresses}" class="form-check h-100 border rounded-3">
                                        <div class="p-3">
                                            <input required class="form-check-input" type="radio"
                                                   name="address" id="flexRadioDefault"
                                                   th:value="${address.id}" />
                                            <label class="form-check-label" for="flexRadioDefault">
                                                Address No: <strong></strong><br /><br>

                                                <small class="text-muted" style="font-weight: bold;">
                                                    <span th:text="'Name: '+${address.name}" style="font-weight: bolder; color: black;"> </span>
                                                </small><br>
                                                <small class="text-muted" style="font-weight: bold;">
                                                    <span th:text="'City: ' + ${address.city}"  style="font-weight: bolder; color: black;">   </span>
                                                </small><br>
                                                <small class="text-muted" style="font-weight: bold;">
                                                    <span th:text="'Address: '+${address.address}" style="font-weight: bolder; color: black;">     </span>
                                                </small><br>
                                                <small class="text-muted" style="font-weight: bold;">
                                                    <span th:text="'State:'+${address.state}" style="font-weight: bolder; color: black;">    </span>
                                                </small><br>
                                                <small class="text-muted" style="font-weight: bold; ">
                                                    <span th:text="'Mobile: '+${address.mobile}" style="font-weight: bolder; color: black;">  </span>
                                                </small>
                                            </label>
                                        </div>
                                    </div>

                                </div>

                            </div>
                            <hr>
                            <h5 class="card-title mb-3">Choose PaymentMethod</h5>
                            <div class="row mb-3">


                                <div class="col-lg-4 mb-3">
                                    <div class="form-check h-100 border rounded-3">
                                        <div class="p-3">
                                            <input required class="form-check-input" type="radio"
                                                   name="payment" id="flexRadioDefault3"

                                                   value="cod" />

                                            <label class="form-check-label" for="flexRadioDefault3">
                                                <strong>
                                                    COD
                                                </strong> <br />
                                                <small class="text-muted">Payment: Cash on delivery
                                                </small><br>
                                                <small class="text-muted">Type: Hand to hand</small>
                                            </label>
                                        </div>
                                    </div>
                                </div>



                            </div>
                            <hr>
                            <h5 class="card-title mb-3">Choose Shipping Type</h5>
                            <div class="row mb-3">

                                <div class="col-lg-4 mb-3">
                                    <div class="form-check h-100 border rounded-3">
                                        <div class="p-3">
                                            <input class="form-check-input" type="radio" name="shipping"
                                                   required id="flexRadioDefault3"
                                                   value="  Specmen" />
                                            <label class="form-check-label" for="flexRadioDefault3">
                                                <strong>
                                                    SPECMEN
                                                </strong><br />
                                                <small class="text-muted">Partner: Specmen
                                                </small><br>
                                                <small class="text-muted">Type: Standerd
                                                </small><br>
                                                <small class="text-muted">Shipping Charge: Free
                                                </small>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="float-end">
                                <a href="/user/user-cart"><p class="btn btn-light border" style="margin-top: 15px;">Cancel </p></a>
                                <button class="btn btn-success shadow-0 border" type="submit">Place Order</button>
                            </div>
                        </div>
                    </div>
                </div>


                <div
                        class="col-xl-4 col-lg-4 d-flex justify-content-center justify-content-lg-end border card shadow-0 mb-5">
                    <div class="container py-5">



                        <div class="ms-lg-4 mt-4 mt-lg-0">
                            <div class="mt-0 mt-md-4 mb-4"
                                 style="font-size : 20px; margin-left: 1%; ">
                                <h5  class="text-dark fw-bold">Order Summary</h5>
                                <span class="fw-semibold" th:text="${items.size()}"></span> Items in cart
                            </div>
                            <hr>
                            <h6 class="mb-3"></h6>
                            <div class="d-flex align-items-center mb-4" th:each="item : ${items}">
                                <div class="me-3 position-relative">
                                    <img class="img-sm rounded border" style="height: 60px; width: 60px;"
                                         th:src="@{'/uploads/' + ${item.product.getImagesPath[0]}}" />
                                </div>
                                <div class="">
                                    <a class="nav-link fw-semibold" href="#"
                                       th:text="${item.getProduct().getProductName()}">
                                    </a>
                                    <div class="">Qty : <span th:text="${item.getQuantity()}"></span></div>
                                    <div class="">
                                        Total Price : â‚¹
                                        <span class="price"
                                              th:text="${item.getProduct().getPrice()} * ${item.getQuantity()}">
                                    </span>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="d-flex justify-content-between">
                                <p class="mb-2">Subtotal price:</p>
                                <p class="mb-2">â‚¹ <span th:text="${totalAmount}"></span></p>
                            </div>
                            <div class="d-flex justify-content-between">
                                <p class="mb-2">Discount:</p>
                                <p class="mb-2 fw-semibold text-danger">- â‚¹ <span th:text="${totalAmount}"></span></p>
                            </div>
                            <hr />
                            <div class="d-flex justify-content-between">
                                <p class="mb-2 fw-bold">Total price:</p>
                                <p class="mb-2 fw-bold">â‚¹ <span id="amount"
                                                                th:text="${totalAmount}"></span></p>
                            </div>
<!--                            <div class="input-group mt-1 mb-4">-->
<!--                                <div th:unless="${coupons.size()==0}">-->
<!--                                    <div>-->
<!--                                        <label class="form-label fw-semibold" >Coupons : </label>-->
<!--                                        <select class="form-select d-inline" data-live-search="true" id="coupon">-->
<!--                                            <option disabled="disabled" selected="selected" th:each="coupon, iterStat : ${coupons}"-->
<!--                                                    th:if="${iterStat.index == 0}">-->
<!--                                                Select a coupon-->
<!--                                            </option>-->
<!--                                            <option  class="fw-semibold" style="white-space: pre-line;" th:each="coupon : ${coupons}" th:text="${coupon.couponName}" th:value="${coupon.couponId}">-->
<!--                                            </option>-->
<!--                                        </select>-->
<!--                                    </div>-->
<!--                                    <button class="btn btn-light text-primary border mt-2" onclick="applyCoupon()" style="margin-top:40%; margin-left:70%;">Apply</button>-->
<!--                                    <span class="fw-semibold text-danger text-break" id="coupon_error_msg"></span>-->
<!--                                </div>-->
<!--                                <div class="fw-semibold text-danger" th:if="${coupons.size()==0}">-->
<!--                                    No coupons available for you.-->
<!--                                </div>-->
<!--                            </div>-->
                        </div>



                    </div>
                </div>
            </div>
        </div>

    </section>
</form>

<script
        src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"
></script>

<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"
></script>


</body>
</html>